# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/rene/xine-ui/head-tail.patch
# ROCK Linux is Copyright (C) 1998 - 2005 Clifford Wolf
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

diff -dur xine-ui-0.99.2/configure.ac xine-ui-0.99.2-p/configure.ac
--- xine-ui-0.99.2/configure.ac	2004-07-04 17:51:02.000000000 +0200
+++ xine-ui-0.99.2-p/configure.ac	2004-11-04 19:58:17.541312408 +0100
@@ -580,7 +580,7 @@
 dnl
 dnl
 dnl
-BUILD_CC="`$CC -v 2>&1 | tail -1`"
+BUILD_CC="`$CC -v 2>&1 | tail -n1`"
 BUILD_OS="`uname -s -r -m`"
 BUILD_DATE="`date \"+%a %d %b %Y %T\"`"
 AC_SUBST(BUILD_CC)
diff -dur xine-ui-0.99.2/configure xine-ui-0.99.2-p/configure
--- xine-ui-0.99.2/configure	2004-07-04 18:26:08.000000000 +0200
+++ xine-ui-0.99.2-p/configure	2004-11-04 19:58:35.301612432 +0100
@@ -1,4 +1,4 @@
-#! /bin/sh
+# #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.57.
 #
@@ -28176,7 +28176,7 @@
 fi
 
 
-BUILD_CC="`$CC -v 2>&1 | tail -1`"
+BUILD_CC="`$CC -v 2>&1 | tail -n1`"
 BUILD_OS="`uname -s -r -m`"
 BUILD_DATE="`date \"+%a %d %b %Y %T\"`"
 
diff -dur xine-ui-0.99.2/misc/xine-bugreport xine-ui-0.99.2-p/misc/xine-bugreport
--- xine-ui-0.99.2/misc/xine-bugreport	2004-07-04 18:26:48.000000000 +0200
+++ xine-ui-0.99.2-p/misc/xine-bugreport	2004-11-04 19:46:59.925325696 +0100
@@ -610,8 +610,8 @@
 	  fi
 	fi
     done
-    short=`head -1 <$tmpfile`
-    description="`tail +2 <$tmpfile`"
+    short=`head -n1 <$tmpfile`
+    description="`tail -n+2 <$tmpfile`"
     rm $tmpfile
     if test -z "$short"; then
       echo "internal error: no message for $id" >&2
@@ -903,7 +903,7 @@
 if search -x xine "$PATH"; then
   xine_executable1=`echo "$found"|sort|uniq`
   if [ `echo "$xine_executable1" | wc -l` -gt 1 ]; then
-    xine_executable=`echo "$xine_executable1" | head -1`
+    xine_executable=`echo "$xine_executable1" | head -n1`
     msg several-xine-in-path 1
   else
     xine_executable="$xine_executable1"
@@ -922,7 +922,7 @@
   xine_config=`echo "$found"|sort|uniq`
   if [ `echo "$xine_config" | wc -l` -gt 1 ]; then
     xine_configs="$xine_config"
-    xine_config=`echo "$xine_configs" | head -1`
+    xine_config=`echo "$xine_configs" | head -n1`
     msg several-xine-config 1
   else
     msg xine-config-in-path 0
@@ -932,7 +932,7 @@
     xine_config="$found";
     if [ `echo "$xine_config" | wc -l` -gt 1 ]; then
       xine_configs="$xine_config"
-      xine_config=`echo "$xine_configs" | head -1`
+      xine_config=`echo "$xine_configs" | head -n1`
       msg several-xine-config 1
     else
       msg xine-config-somewhere 0
@@ -1102,7 +1102,7 @@
 
     search -x hdparm "$PATH" || search -x bin/hdparm || search -x sbin/hdparm;
     if test -n "$found"; then
-      hdparm=`echo "$found"|head -1`
+      hdparm=`echo "$found"|head -n1`
     fi
 
     case "$DVDROM" in
@@ -1145,8 +1145,8 @@
 # Xv extension
 search -x xvinfo "$PATH" || search -x bin/xvinfo;
 if test -n "$found"; then
-  xvinfo=`echo "$found"|head -1`
-  XVIDEO=`$xvinfo|head -1`
+  xvinfo=`echo "$found"|head -n1`
+  XVIDEO=`$xvinfo|head -n1`
   msg have-xv 0
   YUV=false
   YUY2=false
@@ -1387,7 +1387,7 @@
 echo "Subject: $subject"
 
 if search -x mail "$PATH" || search -x mailx "$PATH"; then
-  mailer=`echo "$found"|head -1`
+  mailer=`echo "$found"|head -n1`
   echo "Alternatively, I could try to send the bug report for you, using"
   echo $mailer -s \""$subject"\"
   echo 'Please make sure to add the additional description before saying "yes"!' 
diff -dur xine-ui-0.99.2/misc/xine-check xine-ui-0.99.2-p/misc/xine-check
--- xine-ui-0.99.2/misc/xine-check	2004-07-04 18:26:48.000000000 +0200
+++ xine-ui-0.99.2-p/misc/xine-check	2004-11-04 19:45:54.521268624 +0100
@@ -610,8 +610,8 @@
 	  fi
 	fi
     done
-    short=`head -1 <$tmpfile`
-    description="`tail +2 <$tmpfile`"
+    short=`head -n1 <$tmpfile`
+    description="`tail -n+2 <$tmpfile`"
     rm $tmpfile
     if test -z "$short"; then
       echo "internal error: no message for $id" >&2
@@ -903,7 +903,7 @@
 if search -x xine "$PATH"; then
   xine_executable1=`echo "$found"|sort|uniq`
   if [ `echo "$xine_executable1" | wc -l` -gt 1 ]; then
-    xine_executable=`echo "$xine_executable1" | head -1`
+    xine_executable=`echo "$xine_executable1" | head -n1`
     msg several-xine-in-path 1
   else
     xine_executable="$xine_executable1"
@@ -922,7 +922,7 @@
   xine_config=`echo "$found"|sort|uniq`
   if [ `echo "$xine_config" | wc -l` -gt 1 ]; then
     xine_configs="$xine_config"
-    xine_config=`echo "$xine_configs" | head -1`
+    xine_config=`echo "$xine_configs" | head -n1`
     msg several-xine-config 1
   else
     msg xine-config-in-path 0
@@ -932,7 +932,7 @@
     xine_config="$found";
     if [ `echo "$xine_config" | wc -l` -gt 1 ]; then
       xine_configs="$xine_config"
-      xine_config=`echo "$xine_configs" | head -1`
+      xine_config=`echo "$xine_configs" | head -n1`
       msg several-xine-config 1
     else
       msg xine-config-somewhere 0
@@ -1102,7 +1102,7 @@
 
     search -x hdparm "$PATH" || search -x bin/hdparm || search -x sbin/hdparm;
     if test -n "$found"; then
-      hdparm=`echo "$found"|head -1`
+      hdparm=`echo "$found"|head -n1`
     fi
 
     case "$DVDROM" in
@@ -1145,8 +1145,8 @@
 # Xv extension
 search -x xvinfo "$PATH" || search -x bin/xvinfo;
 if test -n "$found"; then
-  xvinfo=`echo "$found"|head -1`
-  XVIDEO=`$xvinfo|head -1`
+  xvinfo=`echo "$found"|head -n1`
+  XVIDEO=`$xvinfo|head -n1`
   msg have-xv 0
   YUV=false
   YUY2=false
@@ -1387,7 +1387,7 @@
 echo "Subject: $subject"
 
 if search -x mail "$PATH" || search -x mailx "$PATH"; then
-  mailer=`echo "$found"|head -1`
+  mailer=`echo "$found"|head -n1`
   echo "Alternatively, I could try to send the bug report for you, using"
   echo $mailer -s \""$subject"\"
   echo 'Please make sure to add the additional description before saying "yes"!' 
diff -dur xine-ui-0.99.2/misc/xine-check.sh.in xine-ui-0.99.2-p/misc/xine-check.sh.in
--- xine-ui-0.99.2/misc/xine-check.sh.in	2004-04-15 21:27:20.000000000 +0200
+++ xine-ui-0.99.2-p/misc/xine-check.sh.in	2004-11-04 19:45:32.670590432 +0100
@@ -187,8 +187,8 @@
 	  fi
 	fi
     done
-    short=`head -1 <$tmpfile`
-    description="`tail +2 <$tmpfile`"
+    short=`head -n1 <$tmpfile`
+    description="`tail -n+2 <$tmpfile`"
     rm $tmpfile
     if test -z "$short"; then
       echo "internal error: no message for $id" >&2
@@ -480,7 +480,7 @@
 if search -x xine "$PATH"; then
   xine_executable1=`echo "$found"|sort|uniq`
   if [ `echo "$xine_executable1" | wc -l` -gt 1 ]; then
-    xine_executable=`echo "$xine_executable1" | head -1`
+    xine_executable=`echo "$xine_executable1" | head -n1`
     msg several-xine-in-path 1
   else
     xine_executable="$xine_executable1"
@@ -499,7 +499,7 @@
   xine_config=`echo "$found"|sort|uniq`
   if [ `echo "$xine_config" | wc -l` -gt 1 ]; then
     xine_configs="$xine_config"
-    xine_config=`echo "$xine_configs" | head -1`
+    xine_config=`echo "$xine_configs" | head -n1`
     msg several-xine-config 1
   else
     msg xine-config-in-path 0
@@ -509,7 +509,7 @@
     xine_config="$found";
     if [ `echo "$xine_config" | wc -l` -gt 1 ]; then
       xine_configs="$xine_config"
-      xine_config=`echo "$xine_configs" | head -1`
+      xine_config=`echo "$xine_configs" | head -n1`
       msg several-xine-config 1
     else
       msg xine-config-somewhere 0
@@ -679,7 +679,7 @@
 
     search -x hdparm "$PATH" || search -x bin/hdparm || search -x sbin/hdparm;
     if test -n "$found"; then
-      hdparm=`echo "$found"|head -1`
+      hdparm=`echo "$found"|head -n1`
     fi
 
     case "$DVDROM" in
@@ -722,8 +722,8 @@
 # Xv extension
 search -x xvinfo "$PATH" || search -x bin/xvinfo;
 if test -n "$found"; then
-  xvinfo=`echo "$found"|head -1`
-  XVIDEO=`$xvinfo|head -1`
+  xvinfo=`echo "$found"|head -n1`
+  XVIDEO=`$xvinfo|head -n1`
   msg have-xv 0
   YUV=false
   YUY2=false
@@ -964,7 +964,7 @@
 echo "Subject: $subject"
 
 if search -x mail "$PATH" || search -x mailx "$PATH"; then
-  mailer=`echo "$found"|head -1`
+  mailer=`echo "$found"|head -n1`
   echo "Alternatively, I could try to send the bug report for you, using"
   echo $mailer -s \""$subject"\"
   echo 'Please make sure to add the additional description before saying "yes"!' 
diff -dur xine-ui-0.99.2/po/POTFILES.in xine-ui-0.99.2-p/po/POTFILES.in
--- xine-ui-0.99.2/po/POTFILES.in	2004-06-18 23:12:07.000000000 +0200
+++ xine-ui-0.99.2-p/po/POTFILES.in	2004-11-04 19:44:39.075738088 +0100
@@ -1,5 +1,5 @@
 # For updating this file, look at the result of:
-#  $ head -3 po/POTFILES.in > /tmp/POTFILES.in && grep -l '[^A-Za-z_]_(' src/xitk/*.[chy] | grep -v src/xitk/session_ctrl.c >> /tmp/POTFILES.in && cp /tmp/POTFILES.in po/
+#  $ head -n3 po/POTFILES.in > /tmp/POTFILES.in && grep -l '[^A-Za-z_]_(' src/xitk/*.[chy] | grep -v src/xitk/session_ctrl.c >> /tmp/POTFILES.in && cp /tmp/POTFILES.in po/
 
 src/xitk/actions.c
 src/xitk/config_wrapper.c
diff -dur xine-ui-0.99.2/src/xitk/xine-toolkit/po/POTFILES.in xine-ui-0.99.2-p/src/xitk/xine-toolkit/po/POTFILES.in
--- xine-ui-0.99.2/src/xitk/xine-toolkit/po/POTFILES.in	2002-05-31 14:34:03.000000000 +0200
+++ xine-ui-0.99.2-p/src/xitk/xine-toolkit/po/POTFILES.in	2004-11-04 19:44:34.688405064 +0100
@@ -1,5 +1,5 @@
 # For updating this file, look at the result of:
-#  $ head -3 src/xitk/xine-toolkit/po/POTFILES.in > /tmp/POTFILES.in && grep -l '[^A-Za-z_]_(' src/xitk/xine-toolkit/*.[chy] >> /tmp/POTFILES.in && cp /tmp/POTFILES.in src/xitk/xine-toolkit/po/
+#  $ head -n3 src/xitk/xine-toolkit/po/POTFILES.in > /tmp/POTFILES.in && grep -l '[^A-Za-z_]_(' src/xitk/xine-toolkit/*.[chy] >> /tmp/POTFILES.in && cp /tmp/POTFILES.in src/xitk/xine-toolkit/po/
 
 src/xitk/xine-toolkit/mrlbrowser.c
 src/xitk/xine-toolkit/test.c
