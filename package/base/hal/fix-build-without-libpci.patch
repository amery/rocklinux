diff -dur hal-0.5.8.1/configure hal-0.5.8.1-p/configure
--- hal-0.5.8.1/configure	2006-09-19 22:24:41.000000000 +0200
+++ hal-0.5.8.1-p/configure	2006-12-30 13:49:17.000000000 +0100
@@ -22383,10 +22383,10 @@
 
 fi;
 BUILD_MACBOOKPRO=no
-if test "x$use_macbookpro" = "xyes" ; then
+if test "x$with_macbookpro" = "xyes" ; then
    BUILD_MACBOOKPRO=yes
-elif test "x$use_macbookpro" = "x" ; then
-  if test "$HAVE_LIBPCI" != "false" ; then
+elif test "x$with_macbookpro" = "x" ; then
+  if test "x$HAVE_LIBPCI_TRUE" != "x#" ; then
     case "${host}" in
       i[3456]86-*-linux*)
         BUILD_MACBOOKPRO=yes
@@ -22397,7 +22397,6 @@
    fi
 fi
 
-
 if test x$BUILD_MACBOOKPRO = xyes; then
   BUILD_MACBOOKPRO_TRUE=
   BUILD_MACBOOKPRO_FALSE='#'
diff -dur hal-0.5.8.1/configure.in hal-0.5.8.1-p/configure.in
--- hal-0.5.8.1/configure.in	2006-09-19 22:24:05.000000000 +0200
+++ hal-0.5.8.1-p/configure.in	2006-12-30 13:49:06.000000000 +0100
@@ -250,10 +250,10 @@
 dnl see if we should build macbookpro utils
 AC_ARG_WITH(macbookpro,     [  --with-macbookpro       Whether to build Macbook Pro utils (auto)])
 BUILD_MACBOOKPRO=no
-if test "x$use_macbookpro" = "xyes" ; then
+if test "x$with_macbookpro" = "xyes" ; then
    BUILD_MACBOOKPRO=yes
-elif test "x$use_macbookpro" = "x" ; then
-  if test "$HAVE_LIBPCI" != "false" ; then
+elif test "x$with_macbookpro" = "x" ; then
+  if test "x$HAVE_LIBPCI_TRUE" != "x#" ; then
     case "${host}" in
       i[[3456]]86-*-linux*)
         BUILD_MACBOOKPRO=yes
