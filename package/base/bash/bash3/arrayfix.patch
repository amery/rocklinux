
see http://lists.gnu.org/archive/html/bug-bash/2004-08/msg00026.html

*** bash-3.0/arrayfunc.c Fri Dec 19 00:03:09 2003
--- bash-3.0/arrayfunc.c Sun Aug  1 20:43:00 2004
***************
*** 612,616 ****
  
    free (t);
!   return var;
  }
  
--- 612,616 ----
  
    free (t);
!   return (var == 0 || invisible_p (var)) ? (SHELL_VAR *)0 : var;
  }
  
