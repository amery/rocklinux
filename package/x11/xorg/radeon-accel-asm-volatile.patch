--- ./programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c.orig	2006-04-09 17:13:15.000000000 +0200
+++ ./programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c	2006-04-09 17:16:27.000000000 +0200
@@ -730,7 +730,7 @@
 
 	    for (; nwords > 0; --nwords, ++d, ++s)
 #ifdef __powerpc__
-		asm volatile("stwbrx %0,0,%1" : : "r" (*s), "r" (d));
+		__asm__ __volatile__("stwbrx %0,0,%1" : : "r" (*s), "r" (d));
 #else
 		*d = ((*s >> 24) & 0xff) | ((*s >> 8) & 0xff00)
 			| ((*s & 0xff00) << 8) | ((*s & 0xff) << 24);
@@ -745,7 +745,7 @@
 
 	    for (; nwords > 0; --nwords, ++d, ++s)
 #ifdef __powerpc__
-		asm volatile("stwbrx %0,0,%1" : : "r" (*s), "r" (d));
+		__asm__ __volatile__("stwbrx %0,0,%1" : : "r" (*s), "r" (d));
 #else
 	        *d = ((*s >> 24) & 0xff) | ((*s >> 8) & 0xff00)
 			| ((*s & 0xff00) << 8) | ((*s & 0xff) << 24);
