# --- ROCK-COPYRIGHT-NOTE-BEGIN ---
# 
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
# Please add additional copyright information _after_ the line containing
# the ROCK-COPYRIGHT-NOTE-END tag. Otherwise it might get removed by
# the ./scripts/Create-CopyPatch script. Do not edit this copyright text!
# 
# ROCK Linux: rock-src/package/base/net-snmp/head-tail.patch
# ROCK Linux is Copyright (C) 1998 - 2005 Clifford Wolf
# 
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# 
# --- ROCK-COPYRIGHT-NOTE-END ---

diff -dur net-snmp-5.1/aclocal.m4 net-snmp-5.1-p/aclocal.m4
--- net-snmp-5.1/aclocal.m4	2003-02-13 17:01:23.000000000 +0100
+++ net-snmp-5.1-p/aclocal.m4	2004-11-04 19:36:53.223558384 +0100
@@ -39,7 +39,7 @@
 dnl
 AC_DEFUN([AC_PROMPT_USER],
 [
-MSG_CHECK=`echo "$2" | tail -1`
+MSG_CHECK=`echo "$2" | tail -n1`
 AC_CACHE_CHECK($MSG_CHECK, ac_cv_user_prompt_$1,
 [echo "" >&AC_FD_MSG
 AC_PROMPT_USER_NO_DEFINE($1,[$2],$3)
@@ -3545,7 +3545,7 @@
   lt_cv_file_magic_cmd='/usr/bin/file -L'
   case "$host_os" in
   rhapsody* | darwin1.[[012]])
-    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
+    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -n1`
     ;;
   *) # Darwin 1.3 on
     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
diff -dur net-snmp-5.1/configure net-snmp-5.1-p/configure
--- net-snmp-5.1/configure	2003-11-14 03:56:34.000000000 +0100
+++ net-snmp-5.1-p/configure	2004-11-04 19:36:41.327366880 +0100
@@ -4106,7 +4106,7 @@
   lt_cv_file_magic_cmd='/usr/bin/file -L'
   case "$host_os" in
   rhapsody* | darwin1.[012])
-    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
+    lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -n1`
     ;;
   *) # Darwin 1.3 on
     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
@@ -25980,7 +25980,7 @@
 
 ME=`$WHOAMI`
 if test -f /etc/resolv.conf; then
-  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -1 | awk '{print $NF}'`
+  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -n1 | awk '{print $NF}'`
 else
   LOC="@no.where"
 fi
@@ -26006,7 +26006,7 @@
    Providing the --with-default-snmp-version=\"x\" parameter to ./configure
 will avoid this prompt.
 
-Default version of SNMP to use" | tail -1`
+Default version of SNMP to use" | tail -n1`
 echo "$as_me:$LINENO: checking $MSG_CHECK" >&5
 echo $ECHO_N "checking $MSG_CHECK... $ECHO_C" >&6
 if test "${ac_cv_user_prompt_DEFAULT_SNMP_VERSION+set}" = set; then
@@ -26087,7 +26087,7 @@
   Providing the --with-sys-contact=\"contact\" parameter to ./configure
 will avoid this prompt.
 
-System Contact Information" | tail -1`
+System Contact Information" | tail -n1`
 echo "$as_me:$LINENO: checking $MSG_CHECK" >&5
 echo $ECHO_N "checking $MSG_CHECK... $ECHO_C" >&6
 if test "${ac_cv_user_prompt_SYS_CONTACT+set}" = set; then
@@ -26151,7 +26151,7 @@
   Providing the --with-sys-location=\"location\" parameter to ./configure
 will avoid this prompt.
 
-System Location" | tail -1`
+System Location" | tail -n1`
 echo "$as_me:$LINENO: checking $MSG_CHECK" >&5
 echo $ECHO_N "checking $MSG_CHECK... $ECHO_C" >&6
 if test "${ac_cv_user_prompt_SYS_LOC+set}" = set; then
@@ -26221,7 +26221,7 @@
   Providing the --with-logfile=\"path\" parameter to ./configure
 will avoid this prompt.
 
-Location to write logfile" | tail -1`
+Location to write logfile" | tail -n1`
 echo "$as_me:$LINENO: checking $MSG_CHECK" >&5
 echo $ECHO_N "checking $MSG_CHECK... $ECHO_C" >&6
 if test "${ac_cv_user_prompt_LOGFILE+set}" = set; then
@@ -26298,7 +26298,7 @@
   Providing the --with-persistent-directory=\"path\" parameter to
 ./configure will avoid this prompt.
 
-Location to write persistent information" | tail -1`
+Location to write persistent information" | tail -n1`
 echo "$as_me:$LINENO: checking $MSG_CHECK" >&5
 echo $ECHO_N "checking $MSG_CHECK... $ECHO_C" >&6
 if test "${ac_cv_user_prompt_PERSISTENT_DIRECTORY+set}" = set; then
diff -dur net-snmp-5.1/configure.in net-snmp-5.1-p/configure.in
--- net-snmp-5.1/configure.in	2003-11-06 03:11:41.000000000 +0100
+++ net-snmp-5.1-p/configure.in	2004-11-04 19:36:11.392917608 +0100
@@ -2663,7 +2663,7 @@
 
 ME=`$WHOAMI`
 if test -f /etc/resolv.conf; then
-  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -1 | awk '{print $NF}'`
+  LOC=`cat /etc/resolv.conf | grep '^domain' | tail -n1 | awk '{print $NF}'`
 else
   LOC="@no.where"
 fi
diff -dur net-snmp-5.1/dist/net-snmp-solaris-build/DEVENV net-snmp-5.1-p/dist/net-snmp-solaris-build/DEVENV
--- net-snmp-5.1/dist/net-snmp-solaris-build/DEVENV	2003-03-01 05:02:18.000000000 +0100
+++ net-snmp-5.1-p/dist/net-snmp-solaris-build/DEVENV	2004-11-04 19:36:03.998041800 +0100
@@ -48,7 +48,7 @@
 
 umask 022
 
-user=`ps -f | tail -1 | awk '{print $1}' | sed -e 's, ,,g'`
+user=`ps -f | tail -n1 | awk '{print $1}' | sed -e 's, ,,g'`
 [ "$user" = "root" ] && p="#" || p="$"
 
 PS1="`basename $TOP`@"'$HOSTNAME:${PWD##$TOP}$p '; export PS1
diff -dur net-snmp-5.1/dist/net-snmp-solaris-build/elfdepend.sh net-snmp-5.1-p/dist/net-snmp-solaris-build/elfdepend.sh
--- net-snmp-5.1/dist/net-snmp-solaris-build/elfdepend.sh	2003-03-01 05:02:18.000000000 +0100
+++ net-snmp-5.1-p/dist/net-snmp-solaris-build/elfdepend.sh	2004-11-04 19:35:22.221392816 +0100
@@ -56,7 +56,7 @@
 done | sort -u | while read libpath other
 do
   [ "$libpath" = "#" ] && echo "$libpath $other" && continue # error message
-  set -- `grep "^$libpath[ =]"  /var/sadm/install/contents | head -1`
+  set -- `grep "^$libpath[ =]"  /var/sadm/install/contents | head -n1`
   path=$1; type=$2
   case $type in
     f) # file
diff -dur net-snmp-5.1/local/snmp-ucd.sh net-snmp-5.1-p/local/snmp-ucd.sh
--- net-snmp-5.1/local/snmp-ucd.sh	2002-04-20 09:30:13.000000000 +0200
+++ net-snmp-5.1-p/local/snmp-ucd.sh	2004-11-04 19:35:15.864359232 +0100
@@ -106,7 +106,7 @@
 	# Try looking for a /var/run file.
 	#
 	[ -f /var/run/$1.pid ] && {
-	        pid=`head -1 /var/run/$1.pid`
+	        pid=`head -n1 /var/run/$1.pid`
 
 	        [ -n "$pid" ] && {
 	                echo $pid
